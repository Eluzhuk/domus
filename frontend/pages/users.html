<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8"/>
<title>Domus — Пользователи</title>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
	<!-- Tabler CSS -->
	<link href="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta20/dist/css/tabler.min.css" rel="stylesheet"/>
	<!-- Иконки -->
	<link href="https://cdn.jsdelivr.net/npm/@tabler/icons-webfont@2.47.0/tabler-icons.min.css" rel="stylesheet"/>
	<!-- Персонализация проекта -->
	<link rel="stylesheet" href="../assets/styles.css" />
</head>
<body>
<h1>Пользователи</h1>

<div class="row">
	<div class="card" style="flex:1; min-width: 320px;">
		<h3>Вход</h3>
		<div class="grid">
		<label>Email<br><input id="loginEmail" type="email" placeholder="owner@domus.local"></label>
		<label>Пароль<br><input id="loginPass" type="password" placeholder="ChangeMe123!"></label>
		</div>
		<div class="inline" style="margin-top:8px;">
		<button id="btnLogin" class="btn primary">Войти</button>
		<button id="btnRefresh" class="btn">Обновить access</button>
		<button id="btnLogout" class="btn warn">Выйти</button>
		</div>
		<div id="authStatus" class="muted" style="margin-top:8px;"></div>
	</div>

	<div class="card" style="flex:1; min-width: 320px;">
		<h3>Создать</h3>
		<details open>
		<summary>Админ</summary>
		<div class="grid" style="margin:8px 0;">
			<label>Email<br><input id="adminEmail" type="email" placeholder="admin1@domus.local"></label>
			<label>Пароль<br><input id="adminPass" type="password" placeholder="Admin1Pass!"></label>
			<label>Никнейм<br><input id="adminNick" type="text" placeholder="Например: Иван_А1"></label>
		</div>
		<div id="adminHouses" class="muted">Дома загружаются…</div>
		<button id="btnCreateAdmin" class="btn">Создать админа</button>
		</details>
	</div>
</div>

<div class="card" style="margin-top:16px;">
	<div class="inline" style="justify-content: space-between; width:100%;">
		<h3 style="margin:0;">Список пользователей</h3>
		<button id="btnReload" class="btn">Обновить список</button>
	</div>
	<div id="usersTable" class="muted" style="margin-top:8px;">Нет данных</div>
</div>

<!-- Подключения: сначала конфиг, затем auth, затем users -->
<script src="../scripts/config.js"></script>
<script src="../scripts/auth.js"></script>
<script src="../scripts/ui.js"></script>
<script src="../scripts/auth-guard.js"></script>
<script src="../scripts/layout.js"></script>
<script src="../scripts/users.js" defer></script>
<!-- Tabler JS -->
<script src="https://cdn.jsdelivr.net/npm/@tabler/core@1.0.0-beta20/dist/js/tabler.min.js" defer></script>
</body>
</html>
